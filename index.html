<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- styles -->
    <link rel="stylesheet" href="./public/styles.css">
    <!-- CDN SWEETALERT -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- CDN toastify -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <!-- bs -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Calculadoras Chefsplanner</title>
</head>
<body>
    <header>
    <nav class="navbar bg-secondary">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="./assets/Chef’s Planner logo sin colores.png" alt="Logo" width="50" height="50"
                    class="d-inline-block align-text-center">
            </a>
            <h2>Chefsplanner</h2>
            <label class="switch-container">
                <input type="checkbox" role="switch" checked onclick="darkMode()">
                <span class="slider"></span>
            </label>
        </div>
    </nav>
    </header>
    <main>
        <section class="container-fluid text-center justify-content-center">
            <div class="container mt-4 text-start">
                <p>
                    Bienvenido a Chefsplanner. En esta aplicación puedes crear recetas a partir de una base de datos de ingredientes que tu mismo ingreses. Por ahora, esta recetas no calculan un rendimiento final despues de la cocción por lo que te recomiendo que el valor final del peso de la receta, lo vayas ajustando tu mismo para que coincida con lo que buscas preparar. En actualizaciones futuras se planea añadir esta opción.</p>
                <p>Todas las recetas serán almacenadas en el localStorage de tu navegador hasta que decidas eliminar el historial o el LocalStorage de esta aplicación.</p>
                <p>Si nunca has creado una receta te dejo unos ejemplos más abajo 😉. </p>
                <a href="#show-recipe-examples"><button class="btn btn-info">Mostrar ejemplos</button></a>
            </div>
            <h2 data-bs-theme="dark" class="mt-4">Ingredientes</h2>
            <div class="container text-start mt-4">
                <p data-bs-theme="dark">Esta será la base de datos de tus ingredientes. Aquí podras asignarle un <strong>tipo</strong>, un <strong>nombre</strong> y un <strong>precio</strong> a los ingredientes de tus recetas. Has click en ingresar para guardarlos en el localStorage de tu navegador.</p>
            </div>
            <div class="container table-responsive mt-4">
                <form id="ingredient-form">
                <table class="table table-striped">
                    <thead class="table-active">
                        <tr>
                            <th>Tipo</th>
                            <th>Ingrediente</th>
                            <th>Precio x kg</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <select class="form-select" id="form-select" name="form-select" required>
                                    <option value="Abarrotes">Abarrotes</option>
                                    <option value="Lácteos">Lácteos</option>
                                    <option value="Proteinas">Proteinas</option>
                                    <option value="Verduras">Verduras</option>
                                    <option value="Frutas">Frutas</option>
                                    <option value="Liquidos">Liquidos</option>
                                    <option value="Insumo de cocina">Insumo de cocina</option>
                                </select>
                            </td>
                            <td>
                                <input class="form-control" id="ingredient-name" name="ingredient-name" type="text" placeholder="Ej: Arroz" required>
                            </td>
                            <td>
                                <input class="form-control" id="ingredient-price" name="ingredient-price" type="number" placeholder="Ej: 1400" required>
                            </td>
                            <td>
                                <button class="btn btn-success" type="submit">Ingresar</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                </form>
            </div>
            <div class="container table-responsive mt-4">
                <table class="table table-striped">
                    <thead class="table-active">
                        <tr>
                            <th>Id</th>
                            <th>Tipo</th>
                            <th>Ingrediente</th>
                            <th>Precio</th>
                            <th>Borrar</th>
                        </tr>
                    </thead>
                    <tbody id="ingredients">
                    <!-- RENDERIZADO DE INGREDIENTES -->
                    </tbody>
                    <tfoot>
                        <tr>
                            <td>Total de ingredientes agregados</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td><label id="ingredients-total"><strong>:0</strong></label></td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </section>
        <!-- -----------------CREAR RECETAS------------- -->
        <section class="container-fluid text-center">
            <h2 class="mt-4">Crear Receta</h2>
            <div class="container text-start">
                <p>Si tu receta no esta calculada en porcentajes, ve al módulo de <a href="#convertidor-de-recetas-de-la-abuela">Convertidor de recetas de la abuela</a> para pasarla a porcentajes. De lo contrario empieza a crear tu receta aquí 🍰.</p>
            </div>
            <div class="container table-responsive mt-4">
                <form id="recipeForm">
                <table class="table table-striped">
                    <thead class="table-active">
                        <tr>
                            <th colspan="2">
                                <label class="pb-2">Nombre:</label>
                                <input class="form-control" id="name-recipe" name="name-recipe" type="text" required></th>
                            <th colspan="3"><button id="create-recipe" class="btn btn-success" type="submit">Crear Receta</button></th>
                        </tr>
                    </thead>
                    <thead class="table-active">
                        <tr>
                            <th colspan="2">
                                <label class="pb-2">Gramaje:</label>
                                <input class="form-control" id="grams-recipe" name="grams-recipe" type="number" required></th>
                            <th colspan="3">
                                <label class="pb-2">Unidades:</label>
                                <input class="form-control" id="units-recipe" name="units-recipe" type="number" required></th>
                        </tr>
                    </thead>
                    <thead class="table-active">
                        <tr class="text-center">
                            <th colspan="5">Selecciona tus ingredientes
                                <select id="selector-ingredientes" class="btn btn-secondary" name="">
                                <option value=""></option>
                                </select>
                                <button id="add-selected-ingredient" class="btn btn-success" type="submit">Agregar</button>
                            </th>
                        </tr>
                        <tr>
                            <th>Ingredientes</th>
                            <th>Porcentajes %</th>
                            <th>Peso Receta</th>
                            <th>Costo Neto</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody id="ingredients-recipe">
                        <!-- render ingredients for recipe -->
                    </tbody>
                    <tfoot>
                    </tfoot>
                </table>
                </form>
            </div>
        </section>
                <!--------- convertidor de recetas de la abuela ------>
                <section class="container-fluid text-center">
                    <h2 id="convertidor-de-recetas-de-la-abuela" class="mt-4">Convertidor de recetas de la abuela</h2>
                    <div class="container text-start mt-4">
                        <p>En esta tabla puedes calcular los porcentajes de cada ingrediente en una receta. Al pasar los gramajes a porcentajes generamos un cálculo más preciso y entendemos las proporciones de cada ingrediente. Este proceso es indispensable para usar la sección "Crear receta". Primero debes agregar los ingredientes de la base de datos y su peso en gramos. Presiona click en calcular y vuelve al módulo de crear receta para que comiences a crear tu receta personalizada 😉.</p>
                    </div>
                    <div class="container table-responsive mt-4">
                        <form id="ingredient-form-converter">
                        <table class="table table-striped">
                            <thead class="table-active">
                                <tr class="text-center">
                                    <th colspan="3">Selecciona tus ingredientes
                                        <select id="selector-ingredientes-1" class="btn btn-secondary" name="">
                                            <option value=""></option>
                                        </select>
                                        <button id="add-selected-ingredient-1" class="btn btn-success" type="submit">Agregar</button>
                                    </th>
                                    <th><button id="calculate-recipe" class="btn btn-success" type="submit">Calcular</button></th>
                                </tr>
                                <tr>
                                    <th>Ingrediente</th>
                                    <th>Gramos de tu receta</th>
                                    <th>Porcentajes Finales</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody id="ingredients-recipe-converter">
                                <!-- render ingredients for recipe converter-->
                            </tbody>
                            <tfoot>
                                <tr>
                                    <th colspan="4"><label>Total Peso de la receta <span id="totalGramsToConvert"></span></label></th>
                                </tr>
                            </tfoot>
                        </table>
                        </form>
                    </div>
                </section>
        <section class="container text-center">
            <h2 class="mt-4">Ejemplos de Recetas</h2>
            <div class="mt-4">
                <p class="text-start">Haz click para mostrar ejemplos. Tambien podrás ver el formato en el que se muestran las recetas despues de que las hayas creado.</p>
                <button id="show-recipe-examples" class="btn btn-info" >Ver</button></div>
            <div id="imprimir-recetas-random" class="container mt-4">
                <!-- render random recipes -->
            </div>
        </section>
        <section class="container-fluid text-center mt-4">
            <h2 class="mt-4">Recetas creadas</h2>
            <div id="imprimir-container" class="container mt-4">
                <!-- render recetas -->
            </div>
        </section>
        <footer class="footer">
            <div class="container text-center">
                <p>
                    Chef's Planner fue creado por Camilo Medina. Todos los derechos reservados.
                </p>
            </div>
            <div class="container text-center">
                <p>Sigueme en Github.</p>
                <a href="https://github.com/Dashcamed" target="_blank"><img src="./assets/icons8-github.svg" alt="github"></a>
            </div>
        </footer>
    </main>
    <script>
        function darkMode() {
        let element = document.body;
        element.dataset.bsTheme =
        element.dataset.bsTheme == "light" ? "dark" : "light";}
        </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="./main.js"></script>
</body>
</html>